package lab11;
import java.awt.*;
import javax.swing.*;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.*;

/**
 * This is for java tutorial 12
 * @author cfchen
 * 
 */
public class Exercise12 {
	
	private JRadioButton mathButton;
	private JRadioButton nullButton;
	private JRadioButton arrayButton;
	private JRadioButton fileButton;
	private JRadioButton numberButton;
	private JRadioButton myexButton;

	/**
	 * main method
	 * @param args command line arguments
	 */
	public static void main(String[] args) {
		Exercise12 e = new Exercise12();
		e.go();
	}
	
	private JRadioButton addRadioButton(String s, ButtonGroup g, MyPanel p){
		JRadioButton button = new JRadioButton(s, false);
		button.addActionListener(p);
		g.add(button);
		p.add(button);
		return button;
	}
	
	/* this is used to show a message string s in a dialog */
	private void showMessage(String s){
		JOptionPane.showMessageDialog(null, s);
	}
	
	/**
	 * launch the window
	 */
	public void go(){
		JFrame frame = new JFrame();
		frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		
		MyPanel p = new MyPanel();
		p.setLayout(new GridLayout(6, 1));
		
		ButtonGroup g = new ButtonGroup();
		mathButton = addRadioButton("Arithmetic Exception", g, p);
		nullButton = addRadioButton("NullPointer Exception", g, p);
		arrayButton = addRadioButton("ArrayIndexOutOfBounds Exception", g, p);
		fileButton = addRadioButton("FileNotFound Exception", g, p);
		numberButton = addRadioButton("NumberFormat Exception", g, p);
		myexButton = addRadioButton("MyException", g, p);
		
		mathButton.addActionListener(new mathButtonListener());
		nullButton.addActionListener(new nullButtonListener());
		arrayButton.addActionListener(new arrayButtonListener());
		fileButton.addActionListener(new fileButtonListener());
		myexButton.addActionListener(new myexButtonListener());
		
		
		frame.add(p);
		frame.setSize(300, 300);
		frame.setVisible(true);
	}
	
	/**
	 * custom panel which implement the action listener
	 */
	public class MyPanel extends JPanel implements ActionListener{
		@Override
		public void actionPerformed(ActionEvent e) {
			// TODO do your exercise here
			// The following code is an example to check whether mathButton is selected
			Object source = e.getSource();
			if(source == mathButton) {
				System.out.println("math button is selected");
			}else if( source == nullButton){
				System.out.println("null exception button is selected");
			}
			else if( source == arrayButton){
				System.out.println("array exception button is selected");
			}
			else if( source == fileButton){
				System.out.println("file exception button is selected");
			}
			else if( source == numberButton){
				System.out.println("number exception button is selected");
			}
			else if( source == myexButton){
				System.out.println("my exception button is selected");
			}else{
				System.out.println("nothing is selected");
			}
		}
	}
	
	class mathButtonListener implements ActionListener{

		@Override
		public void actionPerformed(ActionEvent e) {
			// TODO Auto-generated method stub
			try{
				int a = 0 ; int b = 1;
				int c = b/a;
			}catch( Exception ex){
				String s = ex.getMessage();
				showMessage(s);
			}
			
		}
		
	}
	class nullButtonListener implements ActionListener{

		@Override
		public void actionPerformed(ActionEvent e) {
			// TODO Auto-generated method stub
			try{
				String a = null;
				a.concat("aple");
				
			}catch(Exception ex){
				showMessage(ex.getMessage());
			}
		}
		
	}
	class arrayButtonListener implements ActionListener{

		@Override
		public void actionPerformed(ActionEvent e) {
			// TODO Auto-generated method stub
			try{
				int [] a = new int [3];
				System.out.println(a[5]);
			}catch(Exception ex){
				showMessage(ex.getMessage());
			}
		}
		
	}
	class fileButtonListener implements ActionListener{

		@Override
		public void actionPerformed(ActionEvent e) {
			// TODO Auto-generated method 
			try{
				File a = new File("lalalal.txt");
			}catch(Exception ex){
				showMessage(ex.getMessage());
			}
		}
		
	}
	class numberButtonListener implements ActionListener{

		@Override
		public void actionPerformed(ActionEvent e) {
			// TODO Auto-generated method stub
			try{
				String a = "apple";
				int b = Integer.parseInt(a);
			}catch(Exception ex){
				showMessage(ex.getMessage());
			}
		}
		
	}
	class myexButtonListener implements ActionListener{

		@Override
		public void actionPerformed(ActionEvent e) {
			// TODO Auto-generated method stub
			showMessage("my own exception");
		}
		
	}
	public class myexcep extends Exception{
		
	}
}
