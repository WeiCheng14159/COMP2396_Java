
public class Hand extends CardList {
	
	private CardGamePlayer player;
	protected CardList list;
	
	public Hand( CardGamePlayer player, CardList cards){
		cards.sort();
		this.removeAllCards();
		for( int i = 0 ; i < cards.size() ; i++){
			this.addCard(cards.getCard(i));
		}
		this.list=cards;
		this.player=player;
	}
	
	public CardGamePlayer getPlayer(){
		return this.player;
	}
	
	public Card getTopCard(){
		System.out.println("err");
		return null;
	}
	
	public boolean beats(Hand hand){//make sure that these two hands are all valid hands
		
		int myHandType = 0;
		int otherHandType = 0;
		
		Hand [] myHandList = new Hand[8];
		
		myHandList[0] = new Single(hand.player, hand.list);
		myHandList[1] = new Pair(hand.player, hand.list);
		myHandList[2] = new Triple(hand.player, hand.list);
		
		myHandList[3] = new Straight(hand.player, hand.list);
		myHandList[4] = new Flush(hand.player, hand.list);
		myHandList[5] = new FullHouse(hand.player, hand.list);
		myHandList[6] = new Quad(hand.player, hand.list);
		myHandList[7] = new StraightFlush(hand.player, hand.list);
		 
		for(int i = 0 ; i < 8 ; i++){
			if(myHandList[i].isValid()){
				myHandType = i;
				break;
			}
		}

		Hand [] otherHandList = new Hand[8];
		
		otherHandList[0] = new Single(player, list);
		otherHandList[1] = new Pair(player, list);
		otherHandList[2] = new Triple(player, list);
	
		otherHandList[3] = new Straight(player, list);
		otherHandList[4] = new Flush(player, list);
		otherHandList[5] = new FullHouse(player, list);
		otherHandList[6] = new Quad(player, list);
		otherHandList[7] = new StraightFlush(player, list);
		
		
		for(int i = 0 ; i < 8 ; i++){
			if(otherHandList[i].isValid()){
				otherHandType = i;
				break;
			}
		}
		
		if(myHandType == otherHandType){//same card type, compare topcard
			//System.out.println("same type comapre top card");
			BigTwoCard myTopCard = new BigTwoCard(myHandList[myHandType].getTopCard().getSuit(), myHandList[myHandType].getTopCard().getRank());
			BigTwoCard HisTopCard = new BigTwoCard(otherHandList[otherHandType].getTopCard().getSuit(), otherHandList[otherHandType].getTopCard().getRank());
			//System.out.println(myTopCard.toString()+HisTopCard.toString());
			//System.out.println(myTopCard.compareTo(HisTopCard));
			if( myTopCard.compareTo(HisTopCard) > 0){//my top card is bigger
				return false;
			}else{//my top card is smaller
				return true;
			}
		}else if( myHandType >= 3 && otherHandType >=3){//five cards in a hand, but not the same type
			//System.out.println("five card comapre type");
			if(myHandType > otherHandType){
				return true;
			}else{
				return false;
			}
		}
		else{//type mismatch
			return false;
		}	
	}
	
	boolean isValid(){
		Hand [] me = new Hand[8];
		int valid = -1;
		me[0] = new Flush(player, list);
		me[1] = new FullHouse(player, list);
		me[2] = new Pair(player, list);
		me[3] = new Quad(player, list);
		me[4] = new Single(player, list);
		me[5] = new Straight(player, list);
		me[6] = new StraightFlush(player, list);
		me[7] = new Triple(player, list);
		
		for(int i = 0 ; i < 8 ; i++){
			if(me[i].isValid()){
				valid = i;
				System.out.print("{"+me[i].getType()+"}  ");
				print();
				break;
			}
		}
		if(valid != -1 ){
			return true;
		}else{
			
			return false;
		}
	}
	
	String getType(){
		System.out.println("err");
		return "err";
	}
}
